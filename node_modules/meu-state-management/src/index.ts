/* tsc --target ES6 index.ts */

export type State = {
    [key: string]: string | number | boolean | string[] | number[] | boolean[] | State
}

export type Action = {
    type: string, /* Actionを識別 */
    payload: State
}

export default class Store {

    private _state: State;
    private reducer;

    constructor(initState: State = {}, reducer) {
        this._state = initState;
        this.reducer = reducer;
    }

    get state() {
        return this._state;
    }

    dispatch(action: Action): void {
        this._state = this.reducer(this._state, action);
    }

}